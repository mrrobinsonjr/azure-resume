<div id="visitor-counter" style="opacity:.75;font-size:.95rem;">
  Views: <span id="count">—</span>
</div>

<script>
(async () => {
  try {
    const r = await fetch("/api/counter", { cache: "no-store" });
    const j = await r.json();
    document.getElementById("count").textContent = (j && (j.count ?? j.value)) ?? "—";
  } catch (e) {
    document.getElementById("count").textContent = "—";
  }
})();
</script>