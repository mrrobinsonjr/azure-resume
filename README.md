# azure-resume
Cloud Resume Challenge - Azure




## First Steps

- Frontend folder contains the website
- main.js contains visitor counter code.

Note: The Hugo `site/` deployment has been disabled. The active website is the static `frontend/` folder and is deployed by the `deploy_frontend` workflow.

## Build Backend Resources
- CosmosDB
    - Storage Account
    - CosmosDB Account
    - Create Database & Container
    - Assign values: id, count 
- Azure Function
    - 

## CI / CD for Hugo `site/`

This repository includes a GitHub Actions workflow that will build the Hugo site in `site/` and deploy `site/public` to an Azure Storage static website when commits are pushed to `main`.

Required repository secrets (set these in Settings → Secrets):

- `AZURE_CREDENTIALS` — JSON service principal credentials used by `azure/login` (required to run `az` commands). Example value generated by `az ad sp create-for-rbac --sdk-auth`.
- `AZURE_FRONTEND_STORAGE_ACCOUNT` — the name of the Azure Storage account that hosts the static website and will receive the `frontend/` upload.

Optional secrets for CDN purge (only needed if you want the workflow to purge a CDN after deploy):

- `AZURE_FRONTEND_CDN_ENDPOINT` — CDN endpoint name
- `AZURE_FRONTEND_CDN_PROFILE` — CDN profile name
- `AZURE_FRONTEND_CDN_RESOURCE_GROUP` — resource group containing the CDN

Note: Set these values in the repository Secrets (Settings → Secrets). The workflow reads them at job level and uses them during the `az` commands.

Workflow behavior:

- `pull_request` against `main` will run the `build` job to ensure the site builds successfully (PR check).
- `push` to `main` will run `build` then `deploy` which uploads `site/public` to the `$web` container.

Run locally:

```powershell
git submodule update --init --recursive
hugo server -s site -D
```
